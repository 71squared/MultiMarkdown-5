<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8"/>
	<meta name="latexinput" content="mmd-tufte-handout-header"/>
	<title>Release Notes</title>
	<meta name="author" content="Fletcher T. Penney"/>
	<meta name="version" content="5.1.0"/>
	<meta name="revised" content="2016-02-4"/>
	<link type="text/css" rel="stylesheet" href="http://fletcher.github.io/MultiMarkdown-5/css/document.css"/>
<script type="text/javascript"
src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>
	<meta name="latexmode" content="memoir"/>
	<meta name="latexinput" content="mmd-tufte-handout-begin-doc"/>
	<meta name="latexfooter" content="mmd-tufte-footer"/>
</head>
<body>

<h2 id="releasenotes">Release Notes</h2>

<h3 id="-2016-02-22"><a href="https://github.com/fletcher/MultiMarkdown-5/releases/tag/5.1.0">5.1.0</a> - 2016&#8211;02&#8211;22</h3>

<ul>
<li>ADDED: Add script to build drag and drop apps on OS X</li>
<li>ADDED: Beginning code for public header file support; ADDED: Beginning configuration for OS X Bundle/Framework targets</li>
<li>ADDED: Include support for Xcode libraries to be iOS compatible</li>
<li>CHANGED: Update copyright info for 2016</li>
<li>CHANGED: Update test suite</li>
<li>FIXED: Allow ATX Headers inside lists</li>
<li>FIXED: Allow &#8216;naturally&#8217; aligned table cells like MMD 2 allowed</li>
<li>FIXED: Allow metadata variables inside links (e.g. [[%foo]][bar])</li>
<li>FIXED: Allow newline inside strong/emph (Fixes #10)</li>
<li>FIXED: Change handling of version.h file for deprecated make to keep it separate from cmake alternative</li>
<li>FIXED: Don&#8217;t delete src/version.h</li>
<li>FIXED: Fix problem with strong/emph matching incorrectly</li>
<li>FIXED: Fix regression in list/heading fix that was overeager</li>
<li>FIXED: Include &#8216;fake&#8217; version.h for make deprecate</li>
<li>FIXED: Include additional standard metadata keys in the list to <em>not</em> be included in HTML headers</li>
<li>FIXED: Remove unneeded install directive; FIXED: Fix public header install prefix (I think)</li>
<li>FIXED: Update MMD test suite for recent table alignment change</li>
<li>FIXED: fix &#8216;make deprecate&#8217; so that it truly doesn&#8217;t require cmake</li>
<li>FIXED: Improve tight vs loose list detection with unusual setext headers</li>
<li>NOTE: Fixed git clone instructions in documentation</li>
<li>NOTE: Update test suite</li>
</ul>

<h3 id="-2015-12-01"><a href="https://github.com/fletcher/MultiMarkdown-5/releases/tag/5.0.1">5.0.1</a> - 2015&#8211;12&#8211;01</h3>

<ul>
<li>IMPORTANT: Fix major error in last Makefile! (Only in build branch for a few minutes)</li>
<li>ADDED: Improve empty list item detection in ODF output</li>
<li>CHANGED: Remove unused node creation utilities</li>
<li>CHANGED: Update documentation</li>
<li>CHANGED: Use &#8216;const&#8217; char * in g_string_new</li>
<li>CODE: Improve doxygen support in libMultiMarkdown.h</li>
<li>CODE: Refactor markdown_to_string() to separate parsing input text and writing output text via the intermediate node tree.</li>
<li>CODE: Use node creation shortcuts for consistency and future flexibility</li>
<li>FIX: Add 32 bit flag to older MinGW toolchain</li>
<li>FIX: Add label for 32 bit builds</li>
<li>FIX: Don&#8217;t run valgrind tests unless in &#8216;make debug&#8217; mode</li>
<li>FIX: Don&#8217;t static link when using &#8216;make debug&#8217; for valgrind testing</li>
<li>FIX: Fix memory leaks in transclude_source()</li>
<li>NOTE: Add developer notes to the README information</li>
<li>NOTE: Additional doxygen support</li>
<li>NOTE: Autogenerate changelog since last commit to master</li>
<li>NOTE: Begin tracking release notes in &#8216;CHANGELOG.md&#8217;</li>
<li>NOTE: Change empty listitem detection logic for ODF output</li>
<li>NOTE: Change whitespace for easier diffing</li>
<li>NOTE: Remove redundant developer note in README</li>
<li>NOTE: Use tab instead of leading spaces in CHANGELOG-UNRELEASED</li>
</ul>

<h3 id="5.0">5.0</h3>

<ul>
<li>The source repository for MultiMarkdown has been completely rebuilt:

<ul>
<li>Use my <a href="https://github.com/fletcher/c-template">c-template</a> to provide the basic structure</li>
<li>Requires the <a href="https://cmake.org/">CMake</a> build system</li>
<li>Has the beginnings of documentation within the code to support
<a href="http://www.doxygen.org/">Doxygen</a>-generated developer documentation</li>
</ul></li>
<li>Other changes since 4.7.1:

<ul>
<li>Improvements from Matthias Lohr for the shell scripts</li>
<li>Additional documentation in code</li>
<li>Fix issue with whitespace after footnotes in ODF export</li>
<li>Improve accuracy of recognizing single line code blocks</li>
<li>Fix memory leaks</li>
<li>Fix <code>mmd2pdf</code> for certain installs of TeX on El Capitan</li>
<li>Improve POSIX compliance on shell scripts</li>
<li>Improve accuracy of strong/emph matching</li>
<li>Make reference label matching case insensitive</li>
<li>Fix error if no caption was included on table</li>
<li>Fix edge case slowdown when lots of HTML included</li>
<li>Fix error when quotes included in explicit link</li>
<li>Allow tables inside LaTeX footnotes</li>
<li>Improved window path separator support</li>
<li>And other improvements/fixes</li>
</ul></li>
</ul>

<h4 id="whyswitchtocmake">Why switch to CMake?</h4>

<p>In early 2014, a user of MMD introduced me to the <a href="https://cmake.org/">CMake</a> build system. I
looked at it briefly, but didn&#8217;t do anything with it. Later on, I looked
at it more in depth and created a parallel branch after 4.6. This would allow
me to experiment with CMake without breaking anything else in the <code>master</code>
branch.</p>

<p>CMake isn&#8217;t perfect by any means, but it does allow for some interesting
things:</p>

<ul>
<li>Automatically generate GUI installers for OS X and Windows, as well as zip
files for *nix. I have not looked into using CMake to build <code>.deb</code>
packages, but that might be possible as well. My old system could generate
GUI installers for Windows and OS X, but it was a complex process that
required a lot of manual processing. This is much more amenable to
automation.</li>
<li>An improved organization structure for various tests, including <a href="http://valgrind.org/">Valgrind</a>
testing. The old system was getting rather messy.</li>
<li>A templating system that better allows me to synchronize version, and
other, information in code, documentation, and READMEs</li>
<li>Automatic generation of project files for Xcode, Visual Studio, and
alternative build systems beyond <code>make</code></li>
<li>An opportunity to reorganize my code directory hierarchy</li>
<li>The option to start adding unit test code to the source. This probably
won&#8217;t happen, as it would be too much work. But it is possible.</li>
</ul>

<p>The biggest <em>problem</em> is that this means that anyone wishing to compile the
source will need to install CMake. This isn&#8217;t hard, but it is an extra step.</p>

<p>As a temporary measure, you can use the <code>make deprecated</code> command to use a
simplified <code>make</code> recipe to compile a binary of MultiMarkdown for the current
machine. I don&#8217;t recommend this approach, but it should work in a pinch until
you can upgrade your machine to support cmake.</p>

<p>I welcome feedback on this decision, but please note &#8211; &#8220;I don&#8217;t like it&#8221; or
&#8220;bring back the old way&#8221; comments will be ignored. Please send meaningful
criticism or suggestions.</p>

<p>Perhaps an approach if others want to contribute will be to do the reverse of
what I did before &#8211; create a <code>make</code> branch that includes a modified Makefile
designed to be used without CMake?</p>

<p>Additionally, the old Makefile had grown over time to include some tricks that
users of various systems required. I have tested the CMake system on OS X,
Ubuntu and Debian Linux, and MinGW on Ubuntu. I welcome suggestions for
improvements to the CMake configuration.</p>

<h3 id="4.7.1">4.7.1</h3>

<ul>
<li>New installers &#8211; should preserve proper owner on OS X; New format for Windows installer &#8211; please let me know if it doesn&#8217;t work.</li>
<li>Fix memory leaks</li>
<li>Fix edge case in strong/emph parsing</li>
<li>custom &#8216;strndup&#8217; function to improve compiling on Windows (seriously, I wish Windows would join the rest of the modern world&#8230;)</li>
<li>&#8216;markdown&#8217; script/batch file to run in compatibility mode</li>
<li>other slight tweaks to source code</li>
</ul>

<h3 id="4.7">4.7</h3>

<ul>
<li>As of version 4.7, the OS X MultiMarkdown installer will no longer support
ppc processors. You will have to compile yourself for these machines.</li>
<li><code>{{TOC}}</code> inserts a basic Table of Contents inside the document</li>
<li>Improve abbreviation matching to include blockquotes, lists</li>
<li><code>mmd</code> export format &#8211; performs transclusions but doesn&#8217;t parse</li>
<li>restructure test suite</li>
<li>add a <code>cmake</code> experimental branch &#8211; same source, different build system</li>
<li>fix error with certain invalid image links</li>
<li>update documentation</li>
<li>don&#8217;t break if heading immediately follows table</li>
<li>fix error when parsing multiple files at once</li>
<li>allow for raw RTF</li>
<li>add <code>mmd_header</code> metadata support</li>
<li>improve code blocks in beamer (thanks to marco-m)</li>
<li>improve backtick style quotes</li>
<li>improve transclusion with nested directories</li>
<li>option to show manifest of transcluded files (<code>-x</code> or <code>--manifest</code>)</li>
<li>Improved YAML support</li>
<li>Update <code>greg</code></li>
<li>Improved Unicode support on Windows when transcluding</li>
<li>Strip BOM when transcluding</li>
<li>Support &#8220;japanese commas&#8221; for underscored strong/emph</li>
<li>show &#8220;&#8211;manifest&#8221; option in help</li>
<li>Other bug fixes</li>
</ul>

<h3 id="4.6">4.6</h3>

<ul>
<li>Add <code>mmd footer</code> metadata feature</li>
<li>Add support for abbreviations</li>
<li>improve hyphen escaping in LaTeX</li>
<li>Ignore wrapping <code>&lt;&gt;</code> in reference URLs</li>
<li>Improve table alignment in LaTeX</li>
<li>Improve windows batch script paths</li>
<li>Additional error checking in file transclusion</li>
<li>memory fixes/code cleanup</li>
<li>Other small fixes</li>
<li>improve strong/emph matching</li>
<li>improve whitespace handling around fenced code blocks</li>
<li>Improve whitespace handling around headings, block quotes</li>
<li>Fix bug in tables</li>
<li>Fix YAML and OPML</li>
</ul>

<h3 id="4.5.3">4.5.3</h3>

<ul>
<li>Include mmd2rtf in Windows installer</li>
<li>improved support for inline footnotes</li>
<li>Fix potential bug when handling beamer latexmode metadata</li>
<li>add <code>latex title</code> and <code>latex author</code> metadata support</li>
<li>Fix bug when sequential dashes used in code spans for LaTeX export (Thanks to Thomas Hodgson for noticing this)</li>
<li>Add to list of known HTML5 tags</li>
<li>update windows batch scripts</li>
<li>Improve metadata handling in snippet mode</li>
<li>Improved transclusion path logic</li>
<li>Fix order of citations when printing footnotes in HTML</li>
<li>Fix potential memory leaks</li>
</ul>

<h3 id="4.5.2">4.5.2</h3>

<ul>
<li>escaped newlines (from njmsdk)&#8212; <a href="http://fletcher.github.io/MultiMarkdown-5/escaped-newlines">http://fletcher.github.io/MultiMarkdown-5/escaped-newlines</a></li>
<li>updated test suite</li>
<li>fix bug in CriticMarkup parsing</li>
<li>fix bug when processing multiple files in batch mode with latexmode metadata set</li>
<li>add <code>mmd2rtf</code>, for what it&#8217;s worth (RTF support is not complete)</li>
</ul>

</body>
</html>
